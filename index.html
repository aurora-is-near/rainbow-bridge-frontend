<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Bridge Ethereum to NEAR and back again</title><meta property="og:title" content="üåà Rainbow Bridge üåà"><meta property="og:description" content="Bridge Ethereum to NEAR and back again"><meta property="og:image" content="rainbow-black.2b7b2946.gif"><meta name="twitter:card" content="summary_large_image"><link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.ae996f7e.png"><link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.d65c9a28.png"><link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.29aaa63f.png"><link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.3cf4276c.png"><link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.ea4f5076.png"><link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.bab4b2f7.png"><link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.cff7adb6.png"><link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.88c6db51.png"><link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.bafe8161.png"><link rel="icon" type="image/png" sizes="192x192" href="android-icon-192x192.db8619ca.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.936cab43.png"><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.16e9fdba.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.88d8dbe7.png"><link rel="manifest" href="img/icons/manifest.js"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="ms-icon-144x144.cff7adb6.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://rsms.me"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://rsms.me/inter/inter.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet"><link rel="stylesheet" href="global.cffaf7ce.css"></head><body>  <nav data-behavior="topbar" class="topbar" style="display:none"> <picture> <source srcset="rainbow-bridge-dark.bde65dc3.svg" media="(prefers-color-scheme: dark)"> <img src="rainbow-bridge.e14f3fa2.svg" style="height:2.4em"> </picture> <button data-behavior="goHome" class="link" title="Go home"> <span class="visually-hidden">Home</span> </button> </nav><nav data-behavior="accountsDropdown" class="accounts-nav" style="display:none"> <div id="accounts-dropdown" class="dropdown" aria-live="polite"> <button aria-controls="accounts-dropdown" class="accounts-button"> <img data-behavior="ethConnected" style="width:1.5rem" alt="Ethereum" src="ethereum.f4172c37.svg"> <picture data-behavior="nearConnected"> <source srcset="near-dark.b9b8572c.svg" media="(prefers-color-scheme: dark)"> <img style="width:1.5rem" alt="NEAR" src="near.0b26889d.svg"> </picture> <span class="green-dot"> <span class="visually-hidden">Connected</span> </span> </button> <div class="accounts-list right"> <div data-behavior="ethConnected"> <span class="account-with-icon ethereum reverse" data-behavior="ethUser"></span> <button class="link" data-behavior="disconnectEthereum">Disconnect</button> </div> <div data-behavior="nearConnected"> <span class="account-with-icon near reverse" data-behavior="nearUser"></span> <button class="link" data-behavior="disconnectNear">Disconnect</button> </div> </div> </div> </nav><style>.topbar{border-bottom:1px solid var(--light-gray);margin:0;padding:1em 1em .5em;position:relative}.topbar button{position:absolute;top:0;bottom:0;left:0;width:6em}.topbar button:focus,.topbar button:hover{border:1px solid var(--gray)}@media (min-width:928px){.topbar:before{position:fixed;top:0;bottom:0;right:0;left:0;content:" ";background:url(form-bg-bottom-left.3dc9331c.svg) no-repeat,url(form-bg-bottom-right.b36f203d.svg) no-repeat;background-position:0 100%,100% 100%;z-index:-1}}.accounts-nav{font-size:.75em;position:absolute;right:1rem;top:1rem;z-index:2}.accounts-button{display:flex;flex-direction:row-reverse}.accounts-button>*{margin-left:-.3rem}.accounts-button>:last-child{margin-left:0}.accounts-button .green-dot{background-color:#00c08b;border-radius:10em;width:8px;height:8px}.dropdown{display:inline-block;z-index:1}.dropdown,.dropdown>button{background:var(--bg);position:relative}.dropdown>button{border:1px solid var(--light-gray);border-radius:.5rem;padding-right:1.5rem;z-index:2}.dropdown>button:after{content:" ";background-image:url(chevron-down.fd75c987.svg);background-size:contain;background-repeat:no-repeat;background-position:50%;width:1rem;position:absolute;right:.25rem;top:0;bottom:0}.dropdown>button:focus,.dropdown>button:hover{border:1px solid var(--gray);box-shadow:none}.dropdown>button+*{display:none}.dropdown.active>button+*{background-color:var(--bg);display:block;padding:1rem;position:absolute;border-radius:.5rem;border:1px solid var(--light-gray);max-width:calc(100vw - 2em);top:calc(100% + .25rem);z-index:1}.dropdown.active>button+.right{right:0}.accounts-list{color:var(--fg-bold);width:21em;padding-bottom:0!important}.accounts-list>*{display:grid;grid-gap:2em;grid-template-columns:1fr auto;margin-bottom:1rem}.accounts-list button{color:var(--fg);font-weight:400}.panel{background-color:var(--bg);border-radius:1em;box-shadow:0 51px 121px rgba(0,0,0,.05),0 21.3066px 50.5509px rgba(0,0,0,.0359427),0 11.3915px 27.0269px rgba(0,0,0,.0298054),0 6.38599px 15.1511px rgba(0,0,0,.025),0 3.39155px 8.04662px rgba(0,0,0,.0201946),0 1.4113px 3.34838px rgba(0,0,0,.0140573);margin:0 auto;padding:1em}.connected-account{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;padding-left:1em}.connected-account:before{color:var(--green);content:"‚Ä¢";font-size:1.5em;left:0;line-height:.8;position:absolute}.swap-vert{background-color:initial;background:url(swap-vert.a8401589.svg) no-repeat;background-position:50%;background-size:1.3em;border-radius:1000em;border:1px solid var(--light-gray);height:2em;width:3.5em;margin:1em auto .8em}.landing .account:first-child label:after{content:"From"}.landing .account:nth-child(3) label:after{content:"To"}.landing .account{font-size:.8em}.landing .account label{margin-left:calc(1em + 1px);margin-bottom:.5em;text-align:left}.landing .account>div{border:1px solid var(--light-gray);border-radius:.5em;padding:1em;display:grid;justify-content:space-between;grid-template-columns:auto auto;grid-gap:3em}.landing .account>div>span{display:grid;align-items:center;grid-gap:.5em;grid-template-columns:auto auto}@media (min-width:928px){.landing .panel{margin-top:6em}.landing{background:url(landing-bg-left.24f92058.svg) no-repeat,url(landing-bg-right.95130647.svg) no-repeat;background-position:top 20em left calc(50% - 17em),top 26em right calc(50% - 16em)}}.transfers{width:100%;margin:4em auto 2em}.transfers>header{padding:0 1em;margin:0 auto;max-width:15.5em;text-align:center}.transfers nav button{border-radius:100em}.transfer.in-progress{--bg-dark:#ffdbb2;--bg-medium:#ffecd6;--bg-light:#fff6ed;--fg-bold:#452500;--fg:#995200;--fg-light:#e78513;--fg-details:#995200;--fg-chevron:#e78513}.transfer.success{--bg-dark:#90e9c5;--bg-medium:#c2fce0;--bg-light:#ecfdf5;--fg-bold:#00261c;--fg:#005a46;--fg-light:#008d6a;--fg-details:#008d6a;--fg-chevron:#00c08b}.transfer.failed{--bg-dark:#ffbdbe;--bg-medium:#ffdedf;--bg-light:#fef2f2;--fg-bold:#450002;--fg:#a00005;--fg-light:#ff585d;--fg-details:#dc1f25;--fg-chevron:#ff585d}.transfer.action-needed{--bg-dark:#8fcdff;--bg-medium:#c2e4ff;--bg-light:#f0f9ff;--fg-bold:#001729;--fg:#003560;--fg-light:#0072ce;--fg-details:#005497;--fg-chevron:#0072ce}.transfer{color:var(--fg)}.transfer h3{color:var(--fg-bold)}.transfer>header{background-color:var(--bg-dark)}.transfer>header button{background-color:var(--fg-light);color:#fff}.transfer>div{background-color:var(--bg-light);border-color:var(--bg-medium)}.transfer>div>:first-child{color:var(--fg-light)}.transfer>footer>button{background-color:var(--bg-medium)}.transfer>footer button{color:var(--fg-details)}.transfer{overflow:hidden;margin:1rem auto;font-size:.75em}.transfer h3{font-size:1.333em;margin:0 0 .5rem}.transfer>header{padding:1rem;display:grid;grid-template-columns:auto auto;justify-content:space-between;align-items:center;grid-gap:1em}.transfer>header .status-message{display:flex;align-items:center}.transfer>header .status-message .icon{margin-right:.5em;background-size:contain;background-position:50%;width:1.2em;height:1.2em}.transfer.failed>header .status-message .icon{background-image:url(alert-circle.f3c6f587.svg)}.transfer.success>header .status-message .icon{background-image:url(checkmark.a0b245cf.svg)}.transfer.action-needed>header .status-message .icon:before{content:"‚Üí"}.transfer.in-progress>header .status-message .icon{margin-right:.8em;position:relative;width:.8em;height:.8em}.transfer.in-progress>header .status-message .icon:before{animation:spin 1.5s ease-in-out infinite;border-radius:50%;border:1px solid transparent;border-top:1px solid var(--fg);content:" ";position:absolute;top:0;right:0;bottom:0;left:0}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.transfer>header button{padding:.5em 1em}.transfer>div{padding:.5rem 1rem;display:grid;grid-gap:7rem;grid-template-columns:auto auto;justify-content:space-between;align-items:center}.transfer>div+div{border-top:1px solid var(--bg-medium)}.transfer>footer{position:relative;transition:height .2s}.transfer>footer button{width:100%;text-align:center;padding:.5rem 1rem;border-radius:0;position:absolute;bottom:0;z-index:1}.transfer>footer button:focus,.transfer>footer button:hover{text-decoration:none;background-color:var(--bg-dark);box-shadow:inset 0 0 10em hsla(0,0%,100%,.3)}.transfer>footer button:active{color:var(--fg-details);box-shadow:none}.transfer>footer button:before{display:inline-block;content:" ";height:.3em;width:.3em;border-bottom:2.5px solid var(--fg-chevron);border-right:2.5px solid var(--fg-chevron);border-left:2.5px solid transparent;border-top:2.5px solid transparent;transform:rotate(45deg);margin-right:.5em;position:relative;top:-.1em}.transfer>footer button span:before{content:"View "}.transfer>footer.open button span:before{content:"Hide "}.transfer>footer.open button:before{top:.1em;transform:rotate(225deg)}.transfer-details{--bg:#272729;--fg:#a1a1a9;background-color:var(--bg);color:var(--fg);list-style:none;margin:0;padding:1.5rem 1rem;position:absolute;width:100%}.transfer-details li{position:relative;padding-bottom:1.5em}.transfer-details li:last-child{padding-bottom:0}.transfer-details li span{display:flex}.transfer-details li span:before{background-color:var(--bg);content:"‚Ä¢";width:1rem;height:1rem;background-repeat:no-repeat;background-size:contain;background-position:50%;margin-right:.5rem;text-align:center;font-size:1.7em;line-height:.7;z-index:1}.transfer-details li p{background-color:#111618;border-radius:4px;font-size:.9em;margin:1rem 0 0 1.5rem;padding:1rem}.transfer-details li.completed+li.pending span,.transfer-details li.pending:first-child span{color:#fff}.transfer-details li.completed+li.pending span:before,.transfer-details li.pending:first-child span:before{color:#2b9af4}.transfer-details li.failed span:before{background-image:url(alert-circle.f3c6f587.svg);content:" "}.transfer-details li.completed span:before{background-image:url(checkmark-48DBA7.28ab5a96.svg);content:" "}.transfer-details li.completed:after{content:" ";height:100%;width:1px;border-left:1px solid #3f4045;position:absolute;top:0;left:.43rem}@media (min-width:25em){.transfers{max-width:22em}.transfers>header{padding:0}.transfer{border-radius:.5em}.transfer>*{max-width:22rem}}.landing{padding-bottom:1em}</style> <div class="landing" data-behavior="landing"> <h1 class="title"> <picture> <source srcset="rainbow-bridge-dark.bde65dc3.svg" media="(prefers-color-scheme: dark)"> <img src="rainbow-bridge.e14f3fa2.svg" style="width:2.3em;display:inline;margin-top:2em"> </picture> <small> ETH <img alt="to and from" src="swap-lr.227be599.svg" style="display:inline;vertical-align:bottom"> NEAR </small> <div>Rainbow</div> <div>Bridge</div> </h1> <div style="margin:0 auto 2.5em;max-width:22em;text-align:center;padding:1em"> <p> From <a href="https://eips.ethereum.org/EIPS/eip-20" rel="nofollow" class="concept-ethereum">ERC20</a> to <a href="https://github.com/nearprotocol/NEPs/pull/21" rel="nofollow" class="concept-near">NEP21</a> and back! Connect your NEAR and Ethereum accounts to get started. </p> <form method="get" class="panel"> <input data-behavior="transferFrom" name="erc20" type="hidden"> <div class="account" data-behavior="account"> <label for="authEthereum">  </label> <div> <span class="concept-ethereum"> <img src="ethereum.f4172c37.svg" alt=""> <span>Ethereum</span> </span> <button type="button" id="authEthereum" data-behavior="authEthereum"> Connect </button> </div> </div> <button type="button" class="swap-vert" data-behavior="swap-accounts"> <span class="visually-hidden">swap</span> </button> <div class="account" data-behavior="account"> <label for="authNear">  </label> <div> <span style="color:var(--fg-bold)"> <svg width="1.5em" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12.5" r="12" fill="var(--fg-bold, #111618)"/><g clip-path="url(#clip0)"><path d="M15.632 7.134l-2.509 3.699a.264.264 0 00.22.411.268.268 0 00.176-.064l2.47-2.127a.1.1 0 01.166.076v6.658a.098.098 0 01-.066.094.1.1 0 01-.11-.03L8.514 6.98a1.278 1.278 0 00-.976-.45h-.26c-.34 0-.665.134-.905.372S6 7.462 6 7.799v9.378c0 .337.135.66.374.898a1.283 1.283 0 001.994-.233l2.509-3.699a.264.264 0 00-.22-.412.268.268 0 00-.176.064l-2.47 2.127a.1.1 0 01-.15-.02.1.1 0 01-.016-.055v-6.66a.099.099 0 01.066-.094.1.1 0 01.11.03l7.463 8.874a1.277 1.277 0 00.976.45h.26a1.285 1.285 0 001.183-.784c.064-.154.097-.32.097-.486V7.799c0-.337-.135-.66-.374-.898a1.283 1.283 0 00-1.994.233z" fill="var(--bg, white)"/></g><defs><clipPath id="clip0"><rect width="12" height="12" fill="var(--bg, white)" transform="translate(6 6.488)"/></clipPath></defs></svg> <span>NEAR</span> </span> <button type="button" id="authNear" data-behavior="authNear"> Connect </button> </div> </div> <button data-behavior="landingSubmit" class="cta" style="margin-top:2em"> Begin new transfer </button> </form> </div> </div> <div class="transfers" data-behavior="recent-transfers" style="display:none"> <header> <h1>Your Transfers</h1> <p>Manage your transfers below or begin a new one.</p> <button data-behavior="newTransfer" class="cta" style="margin-top:2em"> Begin new transfer </button>  </header> <div data-behavior="transfers-container" style="margin-top:3rem"></div> </div> <form data-behavior="sendNaturalErc20Form" class="transfer-form" style="display:none"> <header> <h2>New Transfer</h2> <p>Select a token and enter an amount to transfer.</p> </header> <div class="account"> <header> <strong>Transfer from</strong> <span class="account-tag account-with-icon ethereum" data-behavior="ethUser"></span> </header> <div class="inputs"> <select data-behavior="erc20Selector" id="erc20" name="erc20"> </select> <input autoComplete="off" data-behavior="erc20Amount" disabled min="0" placeholder="0" type="number"> </div> <p class="token-details" data-behavior="erc20Info" style="margin:.5rem 0 0"> <span>Available to transfer</span> <span> <span data-behavior="erc20Balance"></span> <span data-behavior="erc20Name"></span> </span> </p> </div> <div class="arrow"></div> <div class="account"> <header> <strong>To</strong> <span class="account-tag account-with-icon near" data-behavior="nearUser"></span> </header> <p class="token-details" data-behavior="erc20Info"> <span>Receive as</span> <strong data-behavior="nep21Name"></strong> </p> <p class="token-details" data-behavior="erc20Info"> <span>Current balance</span> <strong> <span data-behavior="nep21Balance"></span> <span data-behavior="nep21Name"></span> </strong> </p> </div> <footer> <button disabled data-behavior="erc20Submit" class="cta"> Submit transfer </button> </footer> </form><form data-behavior="bridgeErc20Form" class="container" style="display:none"> <h1 style="background:url(unbridged.3ae05b61.svg) top no-repeat;font-size:1.5em;padding:12rem 0 2.5rem"> Token not yet bridged </h1> <p> The <strong data-behavior="erc20Name"></strong> <a href="https://eips.ethereum.org/EIPS/eip-20" rel="nofollow">ERC20</a> token has not yet been bridged. </p> <p> The <a href="https://github.com/near/rainbow-token-connector" target="_blank">Fungible Token Connector</a> allows sending any ERC20 token to NEAR, but requires an initial one-time deploy of a "BridgeToken" <a href="https://docs.near.org/docs/roles/developer/contracts/intro#get-started" target="_blank">smart contract</a>. </p> <button style="padding:.75em 2.5em;margin:3em 0 2em"> Bridge it! </button> <p style="font-size:.75em"> Deploying a new "Bridge Token" smart contract requires ~30 NEAR to cover <a href="https://docs.near.org/docs/concepts/storage" target="_blank">storage fees</a>. </p> </form><div data-behavior="invalidErc20" class="container" style="display:none"> <h1>Invalid ERC20 Address</h1> <p data-behavior="erc20AddressError" style="word-break:break-word"></p> </div> <form data-behavior="sendBridgedNep21Form" class="transfer-form" style="display:none"> <header> <h2>New Transfer</h2> <p>Select a token and enter an amount to transfer.</p> </header> <div class="account"> <header> <strong>Transfer from</strong> <span class="account-tag account-with-icon near" data-behavior="nearUser"></span> </header> <div class="inputs"> <select data-behavior="erc20nSelector" id="erc20n" name="erc20n"> </select>  <input autoComplete="off" data-behavior="erc20nAmount" disabled min="0" placeholder="0" step="0.001" type="number"> </div> <p class="token-details" data-behavior="erc20nInfo" style="margin:.5rem 0 0"> <span>Available to transfer</span> <span> <span data-behavior="nep21Balance"></span> <span data-behavior="erc20nName"></span> </span> </p> </div> <div class="arrow"></div> <div class="account"> <header> <strong>To</strong> <span class="account-tag account-with-icon ethereum" data-behavior="ethUser"></span> </header> <p class="token-details" data-behavior="erc20nInfo"> <span>Receive as</span> <strong data-behavior="erc20Name"></strong> </p> <p class="token-details" data-behavior="erc20nInfo"> <span>Current balance</span> <strong> <span data-behavior="erc20Balance"></span> <span data-behavior="erc20Name"></span> </strong> </p> </div> <footer> <button disabled data-behavior="erc20nSubmit" class="cta"> Submit transfer </button> </footer> </form><div data-behavior="invalidErc20n" class="container" style="display:none"> <h1>Invalid erc20n Address</h1> <p data-behavior="erc20nAddressError" style="word-break:break-word"></p> </div><script>async function n(){if(!window.ethInitialized||!window.nearInitialized)return;const{all:n}=await window.transfers.get(),e=Object.keys(window.urlParams.get());e.length?window.show("goHome"):window.hide("goHome"),n.length||e.length?window.show("topbar"):window.hide("topbar")}function e(){window.ethInitialized?window.show("ethConnected"):window.hide("ethConnected"),window.nearInitialized?window.show("nearConnected"):window.hide("nearConnected"),window.ethInitialized||window.nearInitialized?window.show("accountsDropdown"):window.hide("accountsDropdown")}async function i(){if(!window.ethInitialized||!window.nearInitialized)return window.show("landing"),void(window.find("landingSubmit").disabled=!0);window.find("landingSubmit").disabled=!1;const{all:n}=await window.transfers.get(),e=Object.keys(window.urlParams.get());n.length||e.length?window.hide("landing"):window.show("landing")}window.renderers=[],window.addEventListener("load",function(){window.find("goHome").onclick=function(){window.urlParams.clear(),window.render()},window.find("disconnectEthereum").onclick=async function(){await window.web3Modal.clearCachedProvider(),setTimeout(()=>window.location.reload())},window.find("disconnectNear").onclick=function(){window.nearConnection.signOut(),setTimeout(()=>window.location.reload())},document.querySelectorAll(".dropdown").forEach(n=>{document.querySelector("body").addEventListener("click",e=>{const i=n.querySelector("button").contains(e.target),o=n.contains(e.target),t=Array.from(n.classList);t.includes("active")?!i&&o||(n.className=t.filter(n=>"active"!==n).join(" ")):i&&(n.className=[...t,"active"].join(" "))})})}),window.renderers.push(n),window.renderers.push(e),window.addEventListener("load",function(){window.onClick("swap-accounts",function(){const n=window.find("transferFrom");n.name="erc20"===n.name?"erc20n":"erc20";const[e,i]=window.findAll("account");fromInner=e.innerHTML,toInner=i.innerHTML,e.innerHTML=toInner,i.innerHTML=fromInner})}),window.renderers.push(i),window.addEventListener("load",function(){window.onClick("newTransfer",function(){window.urlParams.set({erc20:""}),window.render()}),document.querySelector("body").addEventListener("click",n=>{const e=n.target.closest("[data-behavior=transferCallToAction]");if(!e)return;const i=e.closest("[data-behavior=transfer]").id;window.transfers.act(i)}),document.querySelector("body").addEventListener("click",n=>{const e=n.target.closest("[data-behavior=openTransferDetails]");if(!e)return;const i=e.closest("[data-behavior=transfer]").id,t=e.closest("footer");o[i]=!o[i],t.classList.toggle("open"),a()})});const o={};function t(n,e){let{inProgress:i}=e;return n=window.transfers.decorate(n,{locale:"en_US"}),'\n     <div\n      class="transfer '.concat(n.status,'"\n      id="').concat(n.id,'"\n      data-behavior="transfer"\n    >\n       <header>\n         <div>\n           <h3>').concat(n.amount," ").concat(n.sourceTokenName,' </h3>\n           <div class="status-message">\n             <span class="icon"> </span>\n             <span>').concat(n.statusMessage," </span>\n           </div>\n         </div>\n        ").concat(window.toString(n.callToAction&&' <button data-behavior="transferCallToAction">'.concat(n.callToAction," </button>")),'\n       </header>\n       <div>\n         <span>From </span>\n         <span class="account-with-icon ').concat(n.sourceNetwork,'" title="').concat(n.sender,'">\n          ').concat(n.sender,'\n         </span>\n       </div>\n       <div>\n         <span>To </span>\n         <span class="account-with-icon ').concat(n.destinationNetwork,'" title="').concat(n.recipient,'">\n          ').concat(n.recipient,'\n         </span>\n       </div>\n       <footer class="').concat(o[n.id]?"open":"",'">\n         <ol class="transfer-details">').concat(n.steps.map(e=>' <li class="'.concat(e.status,'">\n             <span>').concat(e.description," </span>\n            ").concat(window.toString("failed"===e.status&&' <p class="error">'.concat(n.error," </p>")),"\n           </li>")).join(""),' </ol>\n         <button class="link" data-behavior="openTransferDetails">\n           <span>details </span>\n         </button>\n       </footer>\n     </div>\n  ')}async function r(){if(!window.ethInitialized||!window.nearInitialized)return;const{all:n}=await window.transfers.get();n.length?window.show("recent-transfers"):window.hide("recent-transfers"),fill("transfers-container").with([...n.map(n=>t(n,{inProgress:!0}))]),a()}function a(){window.findAll("transfer").map(n=>{const e=n.querySelector("footer"),i=e.querySelector("button").getBoundingClientRect().height,o=e.querySelector("ol").getBoundingClientRect().height;e.style.height=e.classList.contains("open")?"".concat(i+o,"px"):"".concat(i,"px")})}async function d(){if(!window.ethInitialized||!window.nearInitialized)return;const{all:n}=await window.transfers.get(),e=Object.keys(window.urlParams.get());n.length&&!e.length?window.show("recent-transfers"):window.hide("recent-transfers")}let w,s,c,l;async function u(){return w||(w=await Promise.all("0x3e13318e92F0C67Ca10f0120372E998d43E6a8E8,0xD959Dc6e63B9521A042A1b30003b00D0356a1cd5,0x09ff402D55096bFB134DD4a34A42579b7925becC,0x8151a8F90267bFf183E06921841C5dE774499388,0x21e7381368baa3f3e9640fe19780c4271ad96f37".split(",").map(async n=>{return{address:n,name:await window.utils.getErc20Name(n)}})))}async function f(){if(!window.ethInitialized)return;const n=window.urlParams.get("erc20");window.fill("erc20Selector").with(' <option value="">Select token </option>'+(await u()).map(e=>{let{address:i,name:o}=e;return' <option\n          value="'.concat(i,'"\n          ').concat(window.toString(n===i&&"selected"),"\n        >\n          ").concat(o,"\n         </option>")}))}async function m(){if(!window.ethInitialized||!window.nearInitialized)return;if(window.urlParams.get("erc20")===s)return;if(s=window.urlParams.get("erc20"),null===window.urlParams.get("erc20"))return window.hide("bridgeErc20Form"),window.hide("invalidErc20"),void window.hide("sendNaturalErc20Form");const n=window.find("erc20Amount");if(!s)return n.disabled=!0,window.hide("erc20Info"),void window.show("sendNaturalErc20Form");let e;try{e=await window.utils.getErc20Name(s),window.hide("invalidErc20"),window.fill("erc20Name").with(e)}catch(r){window.hide("sendNaturalErc20Form"),window.hide("bridgeErc20Form"),window.show("invalidErc20"),window.fill("erc20AddressError").with(r.message)}if(!(await u()).map(n=>n.address).includes(s)){const n=document.createElement("option");n.value=s,n.selected=!0,n.innerText=e,window.find("erc20Selector").appendChild(n)}const[i,o,t]=await Promise.all([window.utils.getErc20Balance(s),window.utils.getErc20Decimals(s),window.utils.getNep21Balance(s)]);if(null===t)return window.hide("sendNaturalErc20Form"),void window.show("bridgeErc20Form");window.hide("bridgeErc20Form"),window.show("sendNaturalErc20Form"),window.fill("erc20Balance").with(window.utils.formatLargeNum(i)),window.fill("nep21Name").with(e+"‚Åø"),window.fill("nep21Balance").with(window.utils.formatLargeNum(t)),n.disabled=!i,n.step=10**-o,n.max=i,window.show("erc20Info","flex"),n.focus()}async function h(){return c||(c=await Promise.all("0x3e13318e92F0C67Ca10f0120372E998d43E6a8E8,0xD959Dc6e63B9521A042A1b30003b00D0356a1cd5,0x09ff402D55096bFB134DD4a34A42579b7925becC,0x8151a8F90267bFf183E06921841C5dE774499388,0x21e7381368baa3f3e9640fe19780c4271ad96f37".split(",").map(async n=>{return{address:n,name:await window.utils.getErc20Name(n)+"‚Åø"}})))}async function g(){if(!window.ethInitialized)return;const n=window.urlParams.get("erc20n");window.fill("erc20nSelector").with('<option value="">Select token</option>'+(await h()).map(e=>{let{address:i,name:o}=e;return'<option\n          value="'.concat(i,'"\n          ').concat(window.toString(n===i&&"selected"),"\n        >\n          ").concat(o,"\n        </option>")}))}async function p(){if(!window.ethInitialized||!window.nearInitialized)return;if(window.urlParams.get("erc20n")===l)return;if(l=window.urlParams.get("erc20n"),null===window.urlParams.get("erc20n"))return window.hide("invalidErc20n"),void window.hide("sendBridgedNep21Form");const n=window.find("erc20nAmount");if(!l)return n.disabled=!0,window.hide("erc20nInfo"),void window.show("sendBridgedNep21Form");let e;try{e=await window.utils.getErc20Name(l)+"‚Åø",window.hide("invalidErc20n"),window.fill("erc20nName").with(e)}catch(t){window.hide("sendBridgedNep21Form"),window.show("invalidErc20n"),window.fill("erc20nAddressError").with(t.message)}if(!(await h()).map(n=>n.address).includes(l)){const n=document.createElement("option");n.value=l,n.selected=!0,n.innerText=e,window.find("erc20nSelector").appendChild(n)}const[i,o]=await Promise.all([window.utils.getErc20Balance(l),window.utils.getNep21Balance(l)]);null!==o?(window.show("sendBridgedNep21Form"),window.fill("nep21Balance").with(window.utils.formatLargeNum(o)),window.fill("erc20Balance").with(window.utils.formatLargeNum(i)),window.fill("erc20Name").with(e.replace("‚Åø","")),n.disabled=!o,n.max=o,window.show("erc20nInfo","flex"),n.focus()):window.hide("sendBridgedNep21Form")}window.renderers.push(r),window.renderers.push(d),window.addEventListener("load",function(){const n=window.find("erc20Amount"),e=window.find("erc20Selector"),i=window.find("erc20Submit");e.onchange=async function(e){n.value="",""===e.target.value?window.urlParams.set({erc20:""}):window.urlParams.set({erc20:e.target.value}),window.render()},n.onkeyup=function(n){Number(n.target.value)?i.disabled=!1:i.disabled=!0},window.find("bridgeErc20Form").onsubmit=function(n){n.preventDefault(),window.nearFungibleTokenFactory.deploy_bridge_token({address:window.urlParams.get("erc20").replace("0x","")},new BN(3e13).mul(new BN(2)),new BN(window.parseNearAmount("30.02")))},window.find("sendNaturalErc20Form").onsubmit=async function(o){o.preventDefault(),n.disabled=!0,e.disabled=!0,i.disabled=!0;try{await window.erc20Xnep21.naturalErc20ToNep21({amount:Number(n.value),erc20Address:e.value,sender:window.ethUserAddress,recipient:window.nearUserAddress})}catch(o){throw alert("Something went wrong! Maybe you need to sign out and back in? Check your browser console for more info."),o}finally{n.disabled=!1,e.disabled=!1,i.disabled=!1}n.value="",window.urlParams.clear(),window.render()}}),window.renderers.push(f),window.renderers.push(m),window.addEventListener("load",function(){const n=window.find("erc20nAmount"),e=window.find("erc20nSelector"),i=window.find("erc20nSubmit");e.onchange=async function(e){n.value="",""===e.target.value?window.urlParams.set({erc20n:""}):window.urlParams.set({erc20n:e.target.value}),window.render()},n.onkeyup=function(n){Number(n.target.value)?i.disabled=!1:i.disabled=!0},window.find("sendBridgedNep21Form").onsubmit=async function(o){o.preventDefault(),n.disabled=!0,e.disabled=!0,i.disabled=!0;try{await window.erc20Xnep21.bridgedNep21ToErc20({amount:Number(n.value),nep21Address:window.utils.getBridgedNep21Address(e.value),sender:window.nearUserAddress,recipient:window.ethUserAddress})}catch(o){throw alert("Something went wrong! Maybe you need to sign out and back in? Check your browser console for more info."),o}finally{n.disabled=!1,e.disabled=!1,i.disabled=!1}n.value="",window.urlParams.clear(),window.render()}}),window.renderers.push(g),window.renderers.push(p);</script> <script src="js.438b7329.js"></script> </body></html>